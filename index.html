<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NOSTAI</title>

<!-- PRELOAD КРИТИЧЕСКИХ РЕСУРСОВ -->
<link rel="preload" href="assets/fonts/destroycyr.ttf" as="font" type="font/ttf" crossorigin>
<link rel="preload" href="assets/images/Nostai.png" as="image">

<style>
/* ===== ШРИФТ ===== */
@font-face {
  font-family: 'destroycyr';
  src: url('assets/fonts/destroycyr.ttf') format('truetype');
  font-display: swap;
}

/* ===== БАЗА ===== */
* {
  box-sizing: border-box;
}

html, body {
  width: 100%;
  height: 100%;
}

body {
  margin: 0;
  overflow: hidden;
  background: #000 url('assets/images/Nostai.png') center / cover no-repeat;
  font-family: 'destroycyr', serif;
}

/* ===== ЛОГО ===== */
#logo {
  position: absolute;
  top: clamp(5%, 8vh, 10%);
  left: 50%;
  transform: translateX(-50%);
  font-size: clamp(3rem, 11vw, 7rem);
  color: #d6d6d6;
  text-align: center;
  text-shadow:
    0 4px 6px rgba(0,0,0,.85),
    0 0 14px rgba(255,80,0,.6),
    0 0 35px rgba(255,140,0,.5);
  animation: floatLogo 8s ease-in-out infinite;
  pointer-events: none;
  z-index: 20;
}

@keyframes floatLogo {
  0%,100% { transform: translate(-50%,0); }
  50% { transform: translate(-50%,8px); }
}

/* ===== КНОПКИ ===== */
.book, .radio {
  position: absolute;
  transition: transform .3s ease, opacity .3s ease;
  will-change: transform;
}

.book {
  top: 58%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: clamp(160px, 28vw, 340px);
  opacity: .9;
}

.book:hover {
  transform: translate(-50%, -50%) scale(1.05);
}

.radio {
  bottom: 4%;
  right: 4%;
  width: clamp(80px, 16vw, 160px);
}

.radio:hover {
  transform: scale(1.08);
}

/* ===== ТУМАН (ОПТИМИЗИРОВАН) ===== */
#fog {
  position: fixed;
  inset: 0;
  background: url('assets/images/smoke-fog.gif') center / cover no-repeat;
  opacity: .22;
  pointer-events: none;
  z-index: 5;
}

/* ===== ПЕПЕЛ ===== */
.ash {
  position: fixed;
  width: 3px;
  height: 3px;
  background: rgba(255,255,255,.75);
  border-radius: 50%;
  animation: fallingAsh linear infinite;
  z-index: 6;
}

@keyframes fallingAsh {
  from { transform: translateY(-10vh) scale(.6); opacity:.8; }
  to { transform: translateY(110vh) scale(1.2); opacity:0; }
}

/* ===== МОБИЛЬНАЯ АДАПТАЦИЯ ===== */
@media (max-width: 768px) {
  body { overflow-y: auto; }
  .book { top: 65%; }
  .radio { bottom: 2%; right: 50%; transform: translateX(50%); }
}
</style>
</head>
<body>

<div id="fog"></div>
<div id="logo">NOSTAI</div>

<a href="index.html">
  <img src="assets/images/old-notebook.png" class="book" alt="Хроники Забвения" loading="lazy">
</a>

<a href="html/broadcast.html">
  <img src="assets/images/radio.png" class="radio" alt="Узел связи" loading="lazy">
</a>

<script>
/* ===== АДАПТИВНЫЙ ПЕПЕЛ ===== */
const ashCount = Math.min(80, Math.floor(window.innerWidth / 20));

for (let i = 0; i < ashCount; i++) {
  const ash = document.createElement('div');
  ash.className = 'ash';
  ash.style.left = Math.random() * 100 + 'vw';
  ash.style.animationDuration = 6 + Math.random() * 6 + 's';
  ash.style.animationDelay = Math.random() * 5 + 's';
  document.body.appendChild(ash);
}
</script>

</body>
</html>
