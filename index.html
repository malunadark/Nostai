<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>NOSTAI</title>

<!-- ===== СТИЛИ ===== -->
<style>
/* ---- Шрифты ---- */
@font-face {
  font-family: 'destroycyr';
  src: url('assets/fonts/destroycyr.ttf') format('truetype');
  font-display: swap;
}
@font-face {
  font-family: 'FutharkAoe';
  src: url('assets/fonts/FutharkAoe.ttf') format('truetype');
  font-display: swap;
}

/* ---- Общий фон ---- */
body {
  margin: 0;
  height: 100vh;
  background: url('assets/images/Nostai.png') center/cover no-repeat, #000;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  color: #f5e4c3;
  font-family: 'destroycyr', serif;
}

/* ---- Дым ---- */
#smoke {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: url('assets/images/smoke-fog.gif') center/cover repeat;
  opacity: 0.35;
  z-index: 1;
  pointer-events: none;
}

/* ---- Пепел (canvas) ---- */
#ashes {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 2;
  pointer-events: none;
}

/* ---- Логотип ---- */
#logo {
  font-size: 5rem;
  letter-spacing: 8px;
  font-family: 'destroycyr';
  text-align: center;
  margin-top: 2rem;
  background: linear-gradient(90deg, #ffb400, #ff5500, #ff0000);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 30px #ff4500, 0 0 60px #ff2200;
  animation: firePulse 5s ease-in-out infinite;
  z-index: 3;
}

/* ---- Подзаголовок ---- */
#subtitle {
  text-align: center;
  font-size: 1.3rem;
  color: #ffe8d0;
  margin-top: 0.5rem;
  z-index: 3;
  text-shadow: 0 0 20px #ff8c00;
}

/* ---- Книга ---- */
.book-container {
  position: relative;
  width: 400px;
  height: auto;
  z-index: 3;
  margin-top: 5rem;
}
.book-container img {
  width: 100%;
  height: auto;
  opacity: 0.8;
  filter: drop-shadow(0 0 20px rgba(255, 120, 0, 0.3));
}
.book-title {
  position: absolute;
  top: 48%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-family: 'destroycyr';
  font-size: 2rem;
  color: #dcdcdc;
  text-shadow: 0 0 10px #000, 0 0 30px #ff5e00;
  letter-spacing: 3px;
  background: linear-gradient(to bottom, #aaa, #666);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* ---- Радиоприёмник ---- */
#radio {
  position: absolute;
  bottom: 40px;
  width: 120px;
  height: 120px;
  z-index: 3;
  cursor: pointer;
  transition: transform 0.3s ease, filter 0.3s ease;
}
#radio:hover {
  transform: scale(1.05);
  filter: drop-shadow(0 0 15px #ff8c00);
}

/* ---- Анимация логотипа ---- */
@keyframes firePulse {
  0%, 100% { text-shadow: 0 0 40px #ff6b00, 0 0 80px #ff3c00; }
  50% { text-shadow: 0 0 80px #ffaa00, 0 0 100px #ff5500; }
}
</style>
</head>

<body>
  <!-- Фоновые эффекты -->
  <div id="smoke"></div>
  <canvas id="ashes"></canvas>

  <!-- Логотип -->
  <div id="logo">NOSTAI</div>

  <!-- Подзаголовок -->
  <div id="subtitle">Придшие не уходят — те, кто здесь и там...</div>

  <!-- Книга с переходом -->
  <div class="book-container" onclick="location.href='html/chronicles.html'">
    <img src="assets/images/old-notebook.png" alt="Хроники Забвения">
    <div class="book-title">Хроники&nbsp;Забвения</div>
  </div>

  <!-- Радиоприёмник -->
  <svg id="radio" viewBox="0 0 200 200" onclick="location.href='html/broadcast.html'">
    <defs>
      <radialGradient id="radioGrad" cx="50%" cy="40%" r="60%">
        <stop offset="0%" stop-color="#ffb84d"/>
        <stop offset="100%" stop-color="#8b3d00"/>
      </radialGradient>
    </defs>
    <circle cx="100" cy="100" r="95" fill="url(#radioGrad)" stroke="#442200" stroke-width="3"/>
    <rect x="40" y="60" width="120" height="60" rx="8" ry="8" fill="#222" stroke="#884400" stroke-width="2"/>
    <circle cx="80" cy="90" r="8" fill="#ffcc66"/>
    <circle cx="100" cy="90" r="8" fill="#ffcc66"/>
    <circle cx="120" cy="90" r="8" fill="#ffcc66"/>
    <rect x="70" y="130" width="60" height="20" rx="4" fill="#333"/>
  </svg>

<!-- ===== JS для пепла ===== -->
<script>
const canvas = document.getElementById("ashes");
const ctx = canvas.getContext("2d");

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener("resize", resizeCanvas);
resizeCanvas();

const particles = [];
const maxParticles = 120;

for (let i = 0; i < maxParticles; i++) {
  particles.push({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    size: Math.random() * 2 + 0.5,
    speedY: Math.random() * 0.6 + 0.2,
    drift: (Math.random() - 0.5) * 0.3,
    opacity: Math.random() * 0.6 + 0.2,
  });
}

function drawAsh() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.fillStyle = "rgba(255, 240, 200, 0.5)";
  for (let p of particles) {
    ctx.globalAlpha = p.opacity;
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
    ctx.fill();

    p.y += p.speedY;
    p.x += p.drift;
    if (p.y > canvas.height) {
      p.y = -5;
      p.x = Math.random() * canvas.width;
    }
  }
  requestAnimationFrame(drawAsh);
}
drawAsh();
</script>

</body>
</html>
