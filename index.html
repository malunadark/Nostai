<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Nostai</title>
  <link rel="stylesheet" href="assets/styles.css">

  <!-- Three.js -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/build/three.min.js"></script>

  <!-- Ð—Ð°Ð³Ñ€ÑƒÐ·Ñ‡Ð¸Ðº Ð¼Ð¾Ð´ÐµÐ»ÐµÐ¹ GLTF -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/examples/js/loaders/GLTFLoader.js"></script>

  <!-- Ð—Ð°Ð³Ñ€ÑƒÐ·Ñ‡Ð¸Ðº ÑˆÑ€Ð¸Ñ„Ñ‚Ð¾Ð² -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/examples/js/loaders/FontLoader.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/examples/js/geometries/TextGeometry.js"></script>

  <style>
    .rune {
      position: absolute;
      font-family: 'FutharkAoe', sans-serif;
      font-size: 32px;
      color: rgba(255, 255, 255, 0.8);
      animation: floatRune linear infinite;
      user-select: none;
      pointer-events: none;
    }

    @keyframes floatRune {
      0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
      20% { opacity: 1; }
      80% { opacity: 1; }
      100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
    }
  </style>
</head>
<body>
  <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸ -->
  <div class="nostai-title">NOSTAI</div>
  <div class="nostai-subtitle">ÐšÐ¾Ð³Ð´Ð° Ñ‚Ñ‹ Ð²Ñ…Ð¾Ð´Ð¸ÑˆÑŒ â€” Ñ‚Ñ‹ ÑƒÐ¶Ðµ Ð½Ðµ Ð²Ñ‹Ñ…Ð¾Ð´Ð¸ÑˆÑŒ Ð¿Ñ€ÐµÐ¶Ð½Ð¸Ð¼.</div>

  <!-- Ð­Ñ„Ñ„ÐµÐºÑ‚Ñ‹ -->
  <div class="infection-zone">
    <div class="smoke-layer"></div>
    <div class="shadow shadow-1"></div>
    <div class="shadow shadow-2"></div>
  </div>
  <div class="vignette"></div>

  <!-- Ð›ÐµÑ‚Ð°ÑŽÑ‰Ð¸Ðµ Ñ€ÑƒÐ½Ñ‹ -->
  <div id="runes"></div>

  <!-- ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ð´Ð»Ñ 3D -->
  <div id="door-container"></div>

  <!-- ÐœÑƒÐ·Ñ‹ÐºÐ° -->
  <button id="mute-btn">ðŸ”Š</button>
  <audio id="background-audio" autoplay loop>
    <source src="assets/Ð£Ñ…Ð¾Ð´ÑÑ‰Ð°Ñ Ð¡ÑƒÐ´ÑŒÐ±Ð°.mp3" type="audio/mpeg">
    Ð’Ð°Ñˆ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€ Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð°ÑƒÐ´Ð¸Ð¾.
  </audio>

  <script>
    // ÐœÑƒÐ·Ñ‹ÐºÐ°
    const audio = document.getElementById('background-audio');
    const muteBtn = document.getElementById('mute-btn');
    let isMuted = false;

    muteBtn.addEventListener('click', () => {
      isMuted = !isMuted;
      audio.muted = isMuted;
      muteBtn.textContent = isMuted ? 'ðŸ”‡' : 'ðŸ”Š';
    });

    window.addEventListener('click', () => {
      if (audio.paused) {
        audio.play().catch(() => {});
      }
    }, { once: true });

    // Ð›ÐµÑ‚Ð°ÑŽÑ‰Ð¸Ðµ Ñ€ÑƒÐ½Ñ‹
    const runes = ["áš ","áš¢","áš¦","áš¨","áš±","áš²","áš·","áš¹","ášº","áš¾","á›","á›ƒ","á›‡","á›ˆ","á›‰","á›‹","á›","á›’","á›–","á›—","á›š","á›œ","á›Ÿ","á›ž"];
    function createRune() {
      const rune = document.createElement("div");
      rune.className = "rune";
      rune.textContent = runes[Math.floor(Math.random() * runes.length)];
      rune.style.left = Math.random() * 100 + "vw";
      rune.style.animationDuration = 5 + Math.random() * 5 + "s";
      document.getElementById("runes").appendChild(rune);

      setTimeout(() => rune.remove(), 10000);
    }
    setInterval(createRune, 800);
  </script>

  <!-- ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð´Ð²ÐµÑ€Ð¸ -->
  <script type="module" src="assets/js/doors.js"></script>
</body>
</html>

