<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NOSTAI</title>

<style>
/* === –®–†–ò–§–¢ destroycyr === */
@font-face {
  font-family: 'destroycyr';
  src: url('assets/fonts/destroycyr.ttf') format('truetype');
  font-display: swap;
}

/* === –ë–ê–ó–û–í–´–ô –°–¢–ò–õ–¨ === */
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
  background: #000;
  font-family: 'destroycyr', sans-serif;
  color: #d0d0d0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  position: relative;
  background: url('assets/images/Nostai.png') center/cover no-repeat fixed;
}

/* === –õ–û–ì–û–¢–ò–ü (—Å—Ç–∞—Ä—ã–π) === */
#logo-container {
  margin-top: 20px;
  text-align: center;
  z-index: 10;
}

#logo {
  font-size: clamp(2rem, 6vw, 5rem);
  letter-spacing: 6px;
  color: #cfcfcf;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow:
    0 0 10px rgba(255, 100, 0, 0.7),
    0 0 20px rgba(255, 140, 0, 0.5),
    0 0 35px rgba(255, 180, 0, 0.3);
  position: relative;
  animation: fireGranite 4s ease-in-out infinite;
}

#logo::before {
  content: '';
  position: absolute;
  inset: 0;
  background: url('assets/images/granite-noise.png') center/cover no-repeat;
  opacity: 0.15;
  pointer-events: none;
  z-index: -1;
}

@keyframes fireGranite {
  0%,100% {
    text-shadow:
      0 0 8px rgba(255, 100, 0, 0.7),
      0 0 20px rgba(255, 140, 0, 0.5),
      0 0 35px rgba(255, 180, 0, 0.3);
    transform: scale(1);
  }
  50% {
    text-shadow:
      0 0 12px rgba(255, 150, 0, 0.9),
      0 0 30px rgba(255, 200, 0, 0.6),
      0 0 45px rgba(255, 220, 0, 0.4);
    transform: scale(1.05);
  }
}

/* === –ü–û–î–ó–ê–ì–û–õ–û–í–û–ö === */
#subtitle-container {
  text-align: center;
  margin-top: 10px;
  padding: 0 15px;
}

#subtitle {
  font-size: clamp(1rem, 3vw, 1.8rem);
  color: #ffcc80;
  text-shadow: 0 0 10px rgba(255,150,50,0.6);
  animation: subtitleGlow 6s ease-in-out infinite;
  cursor: pointer;
}

@keyframes subtitleGlow {
  0%,100% { opacity: 0.85; }
  50% { opacity: 1; }
}

/* === –ö–ù–ò–ì–ê === */
#bookWrap {
  position: absolute;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  text-align: center;
}

#book {
  width: 45vw;
  max-width: 250px;
  height: auto;
  opacity: 0.7;
  cursor: pointer;
  border-radius: 6px;
  box-shadow: 0 0 25px rgba(0,0,0,0.6);
  transition: transform 0.8s ease, opacity 0.6s ease;
}

#book:hover {
  transform: translateY(-8px) scale(1.05) rotateX(3deg);
  opacity: 1;
}

/* === –°–í–ï–¢ –ü–û–î –ö–ù–ò–ì–û–ô === */
#bookGlow {
  position: absolute;
  bottom: -30px;
  left: 50%;
  transform: translateX(-50%);
  width: 260px;
  height: 120px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255,200,50,0.6) 0%, rgba(255,100,0,0) 70%);
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.4s ease;
}

.glow-active { opacity: 1; }

/* === –î–´–ú === */
#bookSmoke {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 220px;
  height: 100px;
  background: url('assets/images/smoke-fog.gif') center/contain no-repeat;
  opacity: 0.5;
  pointer-events: none;
}

@keyframes smokeRise {
  0% { transform: translateX(-50%) translateY(0); opacity: 0.5; }
  100% { transform: translateX(-50%) translateY(-60px) scale(1.1); opacity: 0; }
}

/* === –ú–£–ó–´–ö–ê === */
#music-toggle {
  position: fixed;
  top: 10px;
  right: 10px;
  background: rgba(30, 30, 30, 0.6);
  border: 1px solid rgba(255,150,50,0.5);
  border-radius: 6px;
  color: #ffcc80;
  font-size: 1.2rem;
  cursor: pointer;
  padding: 4px 8px;
  transition: all 0.3s ease;
  z-index: 100;
}

#music-toggle:hover {
  background: rgba(255,150,50,0.2);
  transform: scale(1.1);
}

/* === –†–ê–î–ò–û === */
#radioWrap {
  position: fixed;
  left: 15px;
  bottom: 15px;
  cursor: pointer;
  z-index: 10;
}

canvas#radioScreen {
  background: rgba(0,0,0,0.3);
  border-radius: 6px;
}

/* === –ö–†–û–°–°-–ü–õ–ê–¢–§–û–†–ú–ï–ù–ù–û–°–¢–¨ === */
@supports not (backdrop-filter: blur(10px)) {
  body { background-attachment: scroll; }
}

/* –í–µ–Ω–¥–æ—Ä–Ω—ã–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ –∏ –Ø–Ω–¥–µ–∫—Å –ë—Ä–∞—É–∑–µ—Ä–∞ */
* {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
body, html {
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  text-size-adjust: 100%;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
</style>
</head>

<body>

<div id="logo-container">
  <div id="logo">NOSTAI</div>
</div>

<div id="subtitle-container">
  <div id="subtitle">–ü—Ä–∏–¥—à–∏–µ –Ω–µ —É—Ö–æ–¥—è—Ç, –ü—Ä–∏–¥—à–∏–µ ‚Äî —Ç–µ, –∫—Ç–æ –∑–¥–µ—Å—å –∏ —Ç–∞–º, –≤ –ø–æ–∏—Å–∫–∞—Ö —Å–µ–±—è</div>
</div>

<!-- –†–∞–¥–∏–æ–ø—Ä–∏—ë–º–Ω–∏–∫ -->
<div id="radioWrap" title="–£–∑–µ–ª –°–≤—è–∑–∏">
  <canvas id="radioScreen" width="140" height="80"></canvas>
</div>

<!-- –ö–Ω–∏–≥–∞ -->
<div id="bookWrap">
  <img id="book" src="assets/images/old-notebook.png" alt="–•—Ä–æ–Ω–∏–∫–∏ –ó–∞–±–≤–µ–Ω–∏—è" title="–•—Ä–æ–Ω–∏–∫–∏ –ó–∞–±–≤–µ–Ω–∏—è">
  <div id="bookGlow"></div>
  <div id="bookSmoke"></div>
</div>

<!-- –ó–≤—É–∫–∏ -->
<audio id="bookSound" src="assets/music/book-page-turn-4_z1xaim4u.mp3"preload="auto"></audio>
<audio id="bg-music" src="assets/music/–£—Ö–æ–¥—è—â–∞—è –°—É–¥—å–±–∞.mp3" loop></audio>

<!-- –ö–Ω–æ–ø–∫–∞ –º—É–∑—ã–∫–∏ -->
<button id="music-toggle" title="–ú—É–∑—ã–∫–∞">üîä</button>

<script>
// === –†–∞–¥–∏–æ ===
const radioWrap = document.getElementById('radioWrap');
const canvas = document.getElementById('radioScreen');
const ctx = canvas.getContext('2d');

radioWrap.addEventListener('click', () => {
  window.location.href = 'html/broadcast.html';
});

function drawSignal() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  const bars = 20;
  const barWidth = (canvas.width / bars) - 2;
  for (let i = 0; i < bars; i++) {
    const height = Math.random() * canvas.height * 0.8;
    const x = i * (barWidth + 2);
    const gradient = ctx.createLinearGradient(0, canvas.height - height, 0, canvas.height);
    gradient.addColorStop(0, '#FFB84D');
    gradient.addColorStop(0.5, '#FFA500');
    gradient.addColorStop(1, '#FF8C00');
    ctx.fillStyle = gradient;
    ctx.fillRect(x, canvas.height - height, barWidth, height);
  }
  requestAnimationFrame(drawSignal);
}
drawSignal();

// === –ú—É–∑—ã–∫–∞ ===
const music = document.getElementById('bg-music');
const toggle = document.getElementById('music-toggle');

function startMusic() {
  if (music.paused) {
    music.play().catch(() => console.warn('–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –±—Ä–∞—É–∑–µ—Ä–æ–º.'));
  }
}

window.addEventListener('click', startMusic, { once: true });

toggle.addEventListener('click', () => {
  if (music.paused) {
    music.play();
    toggle.textContent = 'üîä';
  } else {
    music.pause();
    toggle.textContent = 'üîá';
  }
});

// === –ö–Ω–∏–≥–∞ ===
const book = document.getElementById('book');
const sound = document.getElementById('bookSound');
const glow = document.getElementById('bookGlow');
const smoke = document.getElementById('bookSmoke');

book.addEventListener('click', () => {
  sound.currentTime = 0;
  sound.play();
  glow.classList.add('glow-active');
  smoke.style.animation = 'smokeRise 1.2s ease forwards';
  setTimeout(() => glow.classList.remove('glow-active'), 800);
  setTimeout(() => window.location.href = 'html/chronicles.html', 1200);
});

// === –ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ ===
document.getElementById('subtitle').addEventListener('click', () => {
  alert('üî• –ü—Ä–∏–¥—à–∏–µ —É–∂–µ –∑–¥–µ—Å—å...');
});
</script>
</body>
</html>
