<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Хроники Забвения — Придшие</title>

<style>
@font-face {
  font-family: 'destroycyr';
  src: url('../assets/fonts/destroycyr.ttf') format('truetype');
}

/* ---- ОСНОВА ---- */
body {
  margin: 0;
  padding: 0;
  background: url('../assets/images/bg-volunteers.png') center/cover no-repeat fixed;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 100vh;
  transition: background-image 1.5s ease-in-out;
}

/* ---- ЛОГОТИП ---- */
.logo {
  margin-top: 3vh;
  font-family: 'destroycyr';
  font-size: 42px;
  letter-spacing: 4px;
  background: linear-gradient(90deg, #3c2f25 0%, #6b5845 30%, #ffb86c 70%, #ff6600 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow:
    0 0 20px rgba(255, 80, 0, 0.4),
    0 0 35px rgba(255, 160, 80, 0.4),
    0 2px 3px rgba(0, 0, 0, 0.8);
  animation: flamePulse 4s ease-in-out infinite alternate;
  z-index: 3;
}

/* ---- КНИГА ---- */
.book {
  position: relative;
  width: 540px;
  height: 380px;
  background: url('../assets/images/book.png') center/cover no-repeat;
  margin-top: 8vh;
  border-radius: 8px;
  box-shadow: 0 0 50px rgba(255, 160, 80, 0.25);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 2;
}

/* ---- НАЗВАНИЕ ФРАКЦИИ ---- */
.subtitle {
  position: absolute;
  top: 8%;
  left: 50%;
  transform: translateX(-50%);
  font-family: 'destroycyr';
  font-size: 16px;
  letter-spacing: 1px;
  background: linear-gradient(90deg, #33261a 0%, #7c6040 35%, #ffb86c 65%, #ff6600 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow:
    0 0 12px rgba(255, 120, 40, 0.4),
    0 2px 2px rgba(0, 0, 0, 0.7);
  animation: flamePulse 3s ease-in-out infinite alternate;
}

/* ---- ТЕКСТ ---- */
.text {
  position: absolute;
  top: 22%;
  left: 10%;
  right: 10%;
  bottom: 14%;
  font-family: 'destroycyr';
  font-size: 10px;
  line-height: 1.45;
  color: transparent;
  background: linear-gradient(90deg, #2b1c12 0%, #6c5139 25%, #e8c197 55%, #ffb86c 80%, #442510 100%);
  -webkit-background-clip: text;
  text-align: justify;
  text-shadow:
    0 0 4px rgba(255, 120, 60, 0.15),
    0 1px 1px rgba(0, 0, 0, 0.5);
}

/* ---- КНОПКИ ---- */
.controls {
  position: absolute;
  bottom: 5%;
  width: 100%;
  display: flex;
  justify-content: center;
  gap: 25px;
}

button {
  font-family: 'destroycyr';
  font-size: 10px;
  padding: 4px 14px;
  background: rgba(25, 10, 0, 0.6);
  color: #ffcc99;
  border: 1px solid rgba(255, 160, 80, 0.4);
  border-radius: 4px;
  cursor: pointer;
  transition: 0.3s;
}
button:hover {
  background: rgba(60, 25, 0, 0.8);
  box-shadow: 0 0 10px rgba(255, 100, 40, 0.6);
}

/* ---- АНИМАЦИИ ---- */
@keyframes flamePulse {
  0% { text-shadow: 0 0 10px #ff5500, 0 0 25px #ffbb66; }
  100% { text-shadow: 0 0 20px #ffaa33, 0 0 35px #ff6600; }
}

/* ---- ПЕПЕЛ ---- */
.ash {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
  z-index: 1;
}

.ash span {
  position: absolute;
  top: -10vh;
  background: rgba(180, 180, 180, 0.3);
  border-radius: 50%;
  filter: blur(1px);
  animation-name: fall, drift;
  animation-timing-function: linear, ease-in-out;
  animation-iteration-count: infinite;
}

@keyframes fall {
  to { transform: translateY(110vh) rotate(720deg); }
}
@keyframes drift {
  0%, 100% { transform: translateX(0); }
  50% { transform: translateX(1.5vw); }
}
</style>
</head>

<body>
<div class="ash"></div>

<div class="logo">История Фракции Придшие</div>

<div class="book">
  <div class="subtitle" id="subtitle"></div>
  <div class="text" id="storyText"></div>

  <div class="controls">
    <button onclick="prevPage()">◀ Назад</button>
    <button onclick="nextPage()">Следующая ▶</button>
  </div>
</div>

<audio id="pageSound" src="../assets/music/book-page-turn-4_z1xaim4u.mp3" preload="auto"></audio>

<script>
/* ---- ПЕПЕЛ ---- */
const ashContainer = document.querySelector('.ash');
for (let i = 0; i < 60; i++) {
  const flake = document.createElement('span');
  const size = 6 + Math.random() * 8; // крупный размер
  flake.style.width = `${size}px`;
  flake.style.height = `${size + Math.random() * 4}px`;
  flake.style.left = Math.random() * 100 + 'vw';
  const shade = 120 + Math.random() * 60;
  const opa = 0.2 + Math.random() * 0.3;
  flake.style.background = `rgba(${shade}, ${shade}, ${shade}, ${opa})`;
  const dur = 10 + Math.random() * 15;
  const delay = -Math.random() * dur;
  flake.style.animationDuration = `${dur}s, ${dur / 2 + Math.random() * 5}s`;
  flake.style.animationDelay = `${delay}s, ${delay / 2}s`;
  ashContainer.appendChild(flake);
}

/* ---- СТРАНИЦЫ ---- */
const pages = [
  {
    bg: '../assets/images/bg-volunteers.png',
    subtitle: 'Волонтёры',
    text: `Они явились туда не первыми, но их миссия была самой важной. Спасти от пожара людей. В Алтайских лесах начались сильнейшие пожары, ВС РФ, МЧС, Красный Крест и местные жители, справлялись, но с трудом, нужна была помощь еще из вне. Местные новости пустили в эфир просьбу срочную, что нужны люди. И люди пришли. 

Волонтёры были людьми с разными судьбами: кто-то всю жизнь посвятил спасению других, а кто-то просто не мог остаться в стороне, видя страдание. Они действовали быстро и слаженно, объединяя усилия с местными службами, но часто рискуя собой. Их главная сила была не в оружии или технике, а в человеческой смелости, терпении и способности работать в самых экстремальных условиях. 

Некоторые приходили по зову сердца, другие — с конкретной профессиональной подготовкой: пожарные, медики, психологи, инженеры. 

Со временем они стали символом силы человеческого духа, напоминанием о том, что приходящие могут изменить ход событий, даже если они не были первыми на месте катастрофы. Каждый их поступок оставлял след в сердцах спасённых — и в истории Алтайских лесов.`
  },
  {
    bg: '../assets/images/bg-military-base.png',
    subtitle: 'ВС РФ',
    text: `Сила, мощь, дух военный — всё это заключено в слове ВС РФ. Что может быть лучше них? Наверное, только спецназ. Самые лучшие, самые стойкие и выносливые люди на земле.
Они столкнулись с сильнейшими пожарами в Алтае. Техника справляется, но огонь не щадит никого, и нужны были ещё руки, ещё решимость, ещё смелость. ВС РФ пришли туда не просто выполнять долг — они пришли, чтобы показать, что границы возможного простираются только так далеко, насколько тянется воля человека.
Каждое их действие внушает уверенность: там, где они идут, хаос отступает, а надежда становится осязаемой. Их присутствие меняет всё вокруг, оставляя ощущение силы, порядка и того, что даже стихия подчиняется тем, кто готов бороться до конца. Но несмотря на дисциплину и строгость, за каждым их шагом скрывается что-то большее, что невозможно объяснить словами…`
  },
  {
    bg: '../assets/images/bg-rescue-base.png',
    subtitle: 'МЧС',
    text: `Сильные рыцари, доблестные, покорители огня. Служители людей, помощники в бедствиях, в трудные минуты, они рядом, помогут, спасут, защитят. Когда начался пожар в лесах Алтая, они вместе с бойцами доблестной армии ВС РФ были рядом с жителями Алтая, помогая им избежать трагедии. Они как щит, прикрывали женщин, стариков и детей от страшной стихии, и спасали, но огонь был настолько велик, что нужны были люди еще.`
  }
];

let currentPage = 0;
const storyText = document.getElementById('storyText');
const subtitle = document.getElementById('subtitle');
const sound = document.getElementById('pageSound');

function showPage(i) {
  const p = pages[i];
  document.body.style.backgroundImage = `url('${p.bg}')`;
  subtitle.textContent = p.subtitle;
  storyText.textContent = p.text;
}

function nextPage() {
  currentPage = (currentPage + 1) % pages.length;
  playSound();
  showPage(currentPage);
}

function prevPage() {
  currentPage = (currentPage - 1 + pages.length) % pages.length;
  playSound();
  showPage(currentPage);
}

function playSound() {
  sound.currentTime = 0;
  sound.play();
}

showPage(0);
</script>
</body>
</html>
