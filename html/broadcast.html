<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NOSTAI — Вещательная</title>

  <style>
    @font-face {
      font-family: 'destroycyr';
      src: url('assets/fonts/destroycyr.ttf') format('truetype');
    }

    body {
      margin: 0;
      min-height: 100vh;
      background: url('assets/images/broadcast-bg.png') center/cover no-repeat fixed;
      font-family: 'destroycyr', sans-serif;
      color: #ffd9b3;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    #top {
      padding: 14px 18px;
      display: flex;
      gap: 12px;
      align-items: center;
      position: relative;
      z-index: 10;
    }

    #logo {
      font-size: 2.4rem;
      text-shadow: 0 0 12px rgba(255, 69, 0, 0.9);
      letter-spacing: 3px;
      color: #f5d6a2;
    }

    #back {
      margin-left: auto;
      background: rgba(0, 0, 0, 0.25);
      border: none;
      color: #FF8C00;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
    }

    #back:hover {
      background: rgba(255,140,0,0.25);
      box-shadow: 0 0 10px rgba(255,140,0,0.3);
    }

    /* Лента сообщений */
    #feed {
      flex: 1;
      padding: 10px 28px 90px 28px;
      overflow-y: hidden;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
    }

    .msg {
      opacity: 0;
      transform: translateY(6px);
      margin-bottom: 6px;
      font-size: 0.95rem;
      line-height: 1.2;
      color: #ffd9b3;
      text-shadow: 0 0 5px rgba(255, 150, 50, 0.4);
      animation: fadeIn 1.2s forwards;
      letter-spacing: 0.5px;
    }

    @keyframes fadeIn {
      0% { opacity: 0; transform: translateY(8px); filter: blur(1px); }
      60% { opacity: 1; transform: translateY(0); filter: blur(0.2px); }
      100% { opacity: 1; }
    }

    /* Полоса ввода */
    #inputBar {
      position: absolute;
      bottom: 0;
      width: 100%;
      background: rgba(0, 0, 0, 0.45);
      backdrop-filter: blur(6px);
      padding: 10px 20px;
      display: flex;
      align-items: center;
      box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.6);
    }

    #inputText {
      flex: 1;
      font-family: 'destroycyr', sans-serif;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,140,0,0.3);
      color: #ffd9b3;
      font-size: 1rem;
      padding: 8px 12px;
      border-radius: 8px;
      outline: none;
      transition: 0.3s;
    }

    #inputText:focus {
      border-color: #ffb347;
      box-shadow: inset 0 0 10px rgba(255,180,80,0.5);
    }

    #sendButton {
      margin-left: 10px;
      background: rgba(255,140,0,0.3);
      border: none;
      color: #ffd9b3;
      font-family: 'destroycyr';
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
    }

    #sendButton:hover {
      background: rgba(255,140,0,0.5);
      box-shadow: 0 0 10px rgba(255,140,0,0.5);
    }
  </style>
</head>
<body>
  <div id="top">
    <div id="logo">NOSTAI</div>
    <button id="back" onclick="location.href='./index.html'">← Назад</button>
  </div>

  <div id="feed"></div>

  <div id="inputBar">
    <input id="inputText" placeholder="Введите сообщение..." />
    <button id="sendButton">Отправить</button>
  </div>

  <script>
    const feed = document.getElementById('feed');

    const factions = [
      { prefix: '[ВС РФ]', color: '#6cc3ff', messages: [
        'Сектор под контролем. Подтверждаю.',
        'Обнаружено свечение в районе 54°. Проверяем.',
        'Радиосвязь с постом «Север» прервана.',
        'Продолжаем удерживать периметр.'
      ]},
      { prefix: '[МЧС]', color: '#ff8844', messages: [
        'Задымление усиливается.',
        'Нужны добровольцы для эвакуации.',
        'Пламя перешло на старые шахты.',
        'Сигнальные ракеты замечены на востоке.'
      ]},
      { prefix: '[КРАСНЫЙ КРЕСТ]', color: '#ff5555', messages: [
        'Помощь медикам требуется срочно.',
        'Перевязки закончились, повторяю — закончились.',
        'Точка приёма в лагере «Горный» восстановлена.',
        'Нужен транспорт для эвакуации раненых.'
      ]},
      { prefix: '[ВОЛОНТЁРЫ]', color: '#ffcc66', messages: [
        'Мы всё ещё в живых. Кто рядом — ответьте.',
        'Нашли следы. Кажется, не человеческие.',
        'Река светится. Это не шутка.',
        'Ветер шепчет — уходите. Но мы остались.'
      ]}
    ];

    function generateMessage() {
      const f = factions[Math.floor(Math.random() * factions.length)];
      const text = f.messages[Math.floor(Math.random() * f.messages.length)];
      const msg = document.createElement('div');
      msg.className = 'msg';
      msg.style.color = f.color;
      msg.textContent = `${f.prefix} ${text}`;
      feed.appendChild(msg);

      if (feed.children.length > 25) feed.children[0].remove();
      feed.scrollTop = feed.scrollHeight;
    }

    setInterval(generateMessage, 4000);
    for (let i = 0; i < 5; i++) generateMessage();

    // пользовательское сообщение
    const input = document.getElementById('inputText');
    const send = document.getElementById('sendButton');
    send.onclick = () => {
      const val = input.value.trim();
      if (!val) return;
      input.value = '';
      const msg = document.createElement('div');
      msg.className = 'msg';
      msg.style.color = '#ffd9b3';
      msg.textContent = `[ВЫ] ${val}`;
      feed.appendChild(msg);
      feed.scrollTop = feed.scrollHeight;
    };
  </script>
</body>
</html>
