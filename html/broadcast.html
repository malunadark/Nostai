<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NOSTAI — Вещательная</title>

  <style>
    @font-face {
      font-family:'destroycyr';
      src: url('../assets/fonts/destroycyr.ttf') format('truetype');
    }

    body {
      margin:0;
      min-height:100vh;
      background: url('../assets/images/broadcast-bg.png') center/cover no-repeat;
      font-family:'destroycyr',sans-serif;
      color:#FF8C00;
      overflow:hidden;
    }

    #top {
      padding:18px;
      display:flex;
      gap:12px;
      align-items:center;
    }

    #logo {
      font-size:3rem;
      text-shadow:0 0 12px rgba(255,69,0,0.9);
      letter-spacing:3px;
      color:#f5d6a2;
    }

    #back {
      margin-left:auto;
      background:rgba(0,0,0,0.25);
      border:none;
      color:#FF8C00;
      padding:8px 12px;
      border-radius:8px;
      cursor:pointer;
      transition:0.3s;
    }

    #back:hover {
      background:rgba(255,140,0,0.25);
      box-shadow:0 0 10px rgba(255,140,0,0.3);
    }

    /* Радио-панель */
    #panel {
      position: absolute;
      left: 20px;
      top: 110px;
      width: 360px;
      max-height: 70vh;
      overflow-y: auto;
      padding: 14px;
      background: rgba(0,0,0,0.25);
      border-radius: 8px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.6);
      backdrop-filter: blur(3px);
    }

    .msg {
      opacity: 0;
      transform: translateY(6px);
      margin-bottom: 8px;
      color: #ffd9b3;
      font-size: 1rem;
      line-height: 1.3;
      filter: blur(0.3px);
      animation: whisperIn 1s forwards;
    }

    /* эффект "радиошёпота" */
    @keyframes whisperIn {
      0% { opacity:0; transform:translateY(10px) scale(0.99); filter: blur(2px); }
      60% { opacity:1; transform:translateY(0) scale(1); filter: blur(0.3px); }
      100% { opacity:1; transform:translateY(0) scale(1); }
    }
  </style>
</head>
<body>
  <div id="top">
    <div id="logo">NOSTAI</div>
    <button id="back" onclick="location.href='../index.html'">← Назад</button>
  </div>

  <div id="panel"></div>

  <script>
    const panel = document.getElementById('panel');

    const factions = [
      { name: 'ВС РФ', prefix: '[АЛЬФА]', color: '#6cc3ff', messages: [
        'Пятый сектор под контролем. Повторяю, сектор под контролем.',
        'Обнаружено свечение в районе координат 54°... Проверяем.',
        'Поступило распоряжение — никому не покидать периметр.',
        'Радиосвязь с постом «Север» прервана, выясняем причину.'
      ]},
      { name: 'МЧС', prefix: '[СПАСЕНИЕ]', color: '#ff8844', messages: [
        'Задымление в квадрате D7 усиливается.',
        'Нужны добровольцы для эвакуации оставшихся.',
        'Пламя переходит к старым шахтам. Берегитесь газа.',
        'Приём, кто видит сигнальные ракеты на востоке?'
      ]},
      { name: 'Красный Крест', prefix: '[КРАСНЫЙ КРЕСТ]', color: '#ff5555', messages: [
        'Требуется помощь медиков, запас перевязок исчерпан.',
        'Приняли раненых из отряда «Альфа». Состояние тяжёлое.',
        'Точка приёма в лагере «Горный» восстановлена.',
        'Нужен транспорт, повторяю, нужен транспорт!'
      ]},
      { name: 'Волонтёры', prefix: '[ВОЛОНТЁРЫ]', color: '#ffcc66', messages: [
        'Мы всё ещё в живых. Кто рядом — ответьте.',
        'Нашли следы. Кажется, не человеческие.',
        'Река светится... никто не верит, пока не видит сам.',
        'Ветер говорит — уходите. Но мы остались.'
      ]}
    ];

    function generateRadioMessage() {
      const faction = factions[Math.floor(Math.random() * factions.length)];
      const message = faction.messages[Math.floor(Math.random() * faction.messages.length)];

      const msg = document.createElement('div');
      msg.className = 'msg';
      msg.style.color = faction.color;
      msg.textContent = `${faction.prefix} ${message}`;

      panel.appendChild(msg);
      panel.scrollTop = panel.scrollHeight;

      // ограничение на количество сообщений
      const msgs = panel.querySelectorAll('.msg');
      if (msgs.length > 70) msgs[0].remove();
    }

    // запуск потока
    setInterval(generateRadioMessage, 4000);
    for (let i = 0; i < 5; i++) generateRadioMessage();
  </script>
</body>
</html>
