<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Узел связи NOSTAI</title>

<style>
@font-face {
  font-family: 'destroycyr';
  src: url('../assets/fonts/destroycyr.ttf') format('truetype');
  font-display: swap;
}

body {
  margin: 0;
  overflow: hidden;
  height: 100vh;
  font-family: 'destroycyr', serif;
  color: #f5f5f5;
  background: black center/cover no-repeat;
  transition: background 1s ease-in-out;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
}

/* --- Логотип и кнопки --- */
#logo {
  font-size: 4vw;
  color: #ffcf7a;
  text-shadow: 0 0 20px #ff6600, 0 0 40px #b33, inset 2px 2px 4px #000;
  margin-bottom: 2vh;
  text-align: center;
}

#buttons {
  margin-top: 2vh;
  display: flex;
  gap: 2vw;
}

button {
  font-family: 'destroycyr', serif;
  font-size: 1.2rem;
  padding: 0.8rem 1.5rem;
  border: none;
  border-radius: 10px;
  background: #ffcf7a;
  color: #000;
  cursor: pointer;
  box-shadow: 0 0 15px #ff6600;
  transition: transform 0.2s ease, background 0.3s ease;
}

button:hover {
  transform: scale(1.1);
  background: #ffb347;
}

/* --- Узел связи --- */
#communication {
  position: relative;
  width: 90%;
  max-width: 1800px;
  height: 70vh;
  background: url('../assets/images/broadcast-bg.png') center/cover no-repeat;
  margin-top: 2vh;
  overflow: hidden;
  border: 2px solid #ffcf7a;
  border-radius: 20px;
  box-shadow: 0 0 40px #ff6600 inset;
}

/* --- Сообщения --- */
.message {
  position: absolute;
  font-size: 1.1rem;
  color: #e8e8e8;
  text-shadow: 0 0 5px #ff6600;
  white-space: nowrap;
  user-select: none;
}

/* --- Помехи --- */
.noiseCanvas {
  position: absolute;
  top: 0;
  left: 0;
  pointer-events: none;
  width: 100%;
  height: 100%;
  z-index: 10;
}

/* --- Адаптив --- */
@media (max-width: 1200px) {
  #logo { font-size: 5vw; }
  button { font-size: 1rem; padding: 0.6rem 1.2rem; }
  #communication { height: 65vh; }
}

@media (max-width: 768px) {
  #logo { font-size: 6vw; }
  button { font-size: 0.9rem; padding: 0.5rem 1rem; }
  #communication { height: 60vh; }
}

@media (max-width: 480px) {
  #logo { font-size: 7vw; }
  button { font-size: 0.8rem; padding: 0.4rem 0.8rem; }
  #communication { height: 50vh; }
}
</style>
</head>
<body>

<div id="logo">NOSTAI Узел Связи</div>

<div id="buttons">
  <button onclick="window.location.href='index.html'">NOSTAI</button>
  <button onclick="window.location.href='chronicles.html'">Хроники Забвения</button>
</div>

<div id="communication"></div>
<canvas class="noiseCanvas"></canvas>

<script>
// --- Генерация сообщений ---
const comm = document.getElementById('communication');
const messages = [
  'Секретное сообщение №1',
  'Обновление статуса...',
  'Передача данных...',
  'Внимание: тревога!',
  'Сообщение получено',
  'Ошибка передачи!'
];

function createMessage() {
  const msg = document.createElement('div');
  msg.className = 'message';
  msg.textContent = messages[Math.floor(Math.random()*messages.length)];
  msg.style.top = Math.random() * (comm.clientHeight - 20) + 'px';
  msg.style.left = '-200px';
  comm.appendChild(msg);

  let pos = -200;
  const speed = Math.random()*2 + 1;
  const interval = setInterval(() => {
    pos += speed;
    msg.style.left = pos + 'px';
    if(pos > comm.clientWidth) {
      clearInterval(interval);
      msg.remove();
    }
  }, 20);
}
setInterval(createMessage, 800);

// --- Генерация помех ---
const noiseCanvas = document.querySelector('.noiseCanvas');
const ctx = noiseCanvas.getContext('2d');

function resizeCanvas() {
  noiseCanvas.width = window.innerWidth;
  noiseCanvas.height = window.innerHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

function drawNoise() {
  const imageData = ctx.createImageData(noiseCanvas.width, noiseCanvas.height);
  for(let i=0;i<imageData.data.length;i+=4){
    const val = Math.random()*255;
    imageData.data[i] = val;
    imageData.data[i+1] = val;
    imageData.data[i+2] = val;
    imageData.data[i+3] = 25; // прозрачность помех
  }
  ctx.putImageData(imageData,0,0);
  requestAnimationFrame(drawNoise);
}
drawNoise();
</script>
</body>
</html>
