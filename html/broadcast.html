<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NOSTAI — Вещательная</title>

  <style>
    @font-face {
      font-family: 'destroycyr';
      src: url('assets/fonts/destroycyr.ttf') format('truetype');
    }

    body {
      margin: 0;
      min-height: 100vh;
      background: url('assets/images/broadcast-bg.png') center/cover no-repeat;
      font-family: 'destroycyr', sans-serif;
      color: #FF8C00;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
    }

    #top {
      position: absolute;
      top: 12px;
      left: 0;
      right: 0;
      padding: 18px;
      display: flex;
      gap: 12px;
      align-items: center;
      z-index: 10;
    }

    #logo {
      font-size: 3rem;
      text-shadow: 0 0 12px rgba(255, 69, 0, 0.9);
      letter-spacing: 3px;
      color: #f5d6a2;
    }

    #back {
      margin-left: auto;
      background: rgba(0,0,0,0.25);
      border: none;
      color: #FF8C00;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
    }
    #back:hover {
      background: rgba(255,140,0,0.25);
      box-shadow: 0 0 10px rgba(255,140,0,0.3);
    }

    /* Генерация сообщений — прямо на фоне */
    .radio-msg {
      position: absolute;
      left: 30px;
      font-size: 1.2rem;
      text-shadow: 0 0 8px rgba(255, 140, 0, 0.8);
      opacity: 0;
      white-space: nowrap;
      animation: appear 8s ease forwards;
      filter: blur(0.3px);
    }

    @keyframes appear {
      0% { opacity: 0; transform: translateY(10px) scale(0.98); filter: blur(2px); }
      15% { opacity: 1; transform: translateY(0) scale(1); filter: blur(0.2px); }
      85% { opacity: 1; }
      100% { opacity: 0; transform: translateY(-10px); }
    }

    /* Поле ввода */
    #inputBar {
      position: relative;
      width: 100%;
      background: rgba(0, 0, 0, 0.45);
      backdrop-filter: blur(6px);
      padding: 10px 20px;
      display: flex;
      align-items: center;
      box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.6);
    }

    #inputText {
      flex: 1;
      font-family: 'destroycyr', sans-serif;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,140,0,0.3);
      color: #ffd9b3;
      font-size: 1.1rem;
      padding: 8px 12px;
      border-radius: 8px;
      outline: none;
      box-shadow: inset 0 0 5px rgba(255,140,0,0.3);
      transition: 0.3s;
    }

    #inputText:focus {
      border-color: #ffb347;
      box-shadow: inset 0 0 10px rgba(255,180,80,0.5);
    }

    #sendButton {
      margin-left: 10px;
      background: rgba(255,140,0,0.3);
      border: none;
      color: #ffd9b3;
      font-family: 'destroycyr';
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
    }

    #sendButton:hover {
      background: rgba(255,140,0,0.5);
      box-shadow: 0 0 10px rgba(255,140,0,0.5);
    }
  </style>
</head>
<body>
  <div id="top">
    <div id="logo">NOSTAI</div>
    <button id="back" onclick="location.href='./index.html'">← Назад</button>
  </div>

  <!-- Полоска для ввода -->
  <div id="inputBar">
    <input id="inputText" placeholder="Введите сообщение..." />
    <button id="sendButton">Отправить</button>
  </div>

  <script>
    const factions = [
      { prefix: '[АЛЬФА]', color: '#6cc3ff', messages: [
        'Сектор очищен. Подтверждаю контроль.',
        'Неизвестные сигналы с востока. Проверяем.',
        'Радиоканал шумит. Возможны помехи.',
        'Пост «Север» молчит. Высылаем разведку.'
      ]},
      { prefix: '[СПАСЕНИЕ]', color: '#ff8844', messages: [
        'Задымление усиливается. Нужны добровольцы.',
        'Фон радиации нестабилен. Будьте осторожны.',
        'Пламя переходит на север. Срочно отходим.',
        'Кто слышит — ответьте. Повторяю, ответьте...'
      ]},
      { prefix: '[КРАСНЫЙ КРЕСТ]', color: '#ff5555', messages: [
        'Пострадавших больше, чем ожидалось.',
        'Перевязочные материалы закончились.',
        'Связь с лагерем «Горный» потеряна.',
        'Нужна транспортировка раненых.'
      ]},
      { prefix: '[ВОЛОНТЁРЫ]', color: '#ffcc66', messages: [
        'Мы здесь. Но долго не продержимся.',
        'Слышите этот вой? Он ближе...',
        'Вода изменилась. Что-то в ней не так.',
        'Ветер приносит запах пепла и гари.'
      ]}
    ];

    function randomMessage() {
      const f = factions[Math.floor(Math.random() * factions.length)];
      const text = f.messages[Math.floor(Math.random() * f.messages.length)];

      const el = document.createElement('div');
      el.className = 'radio-msg';
      el.style.top = `${Math.random() * 70 + 20}%`;
      el.style.left = `${Math.random() * 40 + 10}%`;
      el.style.color = f.color;
      el.textContent = `${f.prefix} ${text}`;
      document.body.appendChild(el);

      setTimeout(() => el.remove(), 8000);
    }

    setInterval(randomMessage, 4000);
    for (let i = 0; i < 3; i++) randomMessage();

    // Поле ввода
    const input = document.getElementById('inputText');
    const send = document.getElementById('sendButton');
    send.onclick = () => {
      const val = input.value.trim();
      if (!val) return;
      input.value = '';
      const el = document.createElement('div');
      el.className = 'radio-msg';
      el.style.top = `${Math.random() * 70 + 20}%`;
      el.style.left = `${Math.random() * 40 + 10}%`;
      el.style.color = '#ffd9b3';
      el.textContent = `[ВЫ] ${val}`;
      document.body.appendChild(el);
      setTimeout(() => el.remove(), 8000);
    };
  </script>
</body>
</html>
