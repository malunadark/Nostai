<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Чат фракций — NOSTAI</title>
<style>
  body {
    background: #121212;
    color: #ddd;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0; padding: 0;
    display: flex; flex-direction: column; height: 100vh;
  }
  header {
    background: #222;
    padding: 10px 20px;
    font-weight: bold;
    font-size: 1.5em;
    text-align: center;
    letter-spacing: 0.05em;
  }
  #chat {
    flex-grow: 1;
    padding: 20px;
    overflow-y: auto;
    background: #1e1e1e;
    display: flex;
    flex-direction: column;
    gap: 10px;
    border-top: 1px solid #333;
    border-bottom: 1px solid #333;
  }
  .message {
    max-width: 70%;
    padding: 10px 15px;
    border-radius: 10px;
    line-height: 1.3;
    font-size: 0.9em;
    box-shadow: 0 0 8px rgba(0,0,0,0.7);
  }
  .vsrf {
    background: #274156;
    align-self: flex-start;
    border-left: 5px solid #49759c;
  }
  .mchs {
    background: #365c3b;
    align-self: flex-start;
    border-left: 5px solid #6a9d5b;
  }
  .volunteer {
    background: #55403d;
    align-self: flex-start;
    border-left: 5px solid #a37166;
  }
  .redcross {
    background: #5a2a2a;
    align-self: flex-start;
    border-left: 5px solid #b85454;
  }
  footer {
    padding: 10px;
    background: #222;
    text-align: center;
    color: #666;
    font-size: 0.8em;
  }
</style>
</head>
<body>

<header>Чат фракций — NOSTAI</header>

<div id="chat" aria-live="polite" aria-relevant="additions"></div>

<footer>Симуляция фракционного чата. Сообщения генерируются автоматически.</footer>

<script>
  // Фракционные персонажи
  const characters = [
    { id: 'vsrf', name: 'ВС РФ', cssClass: 'vsrf' },
    { id: 'mchs', name: 'МЧС Спасатель', cssClass: 'mchs' },
    { id: 'volunteer', name: 'Волонтер', cssClass: 'volunteer' },
    { id: 'redcross', name: 'Красный Крест Медик', cssClass: 'redcross' },
  ];

  // Пример текстов сообщений для каждой фракции (можно расширять и углублять)
  const messagesPool = {
    vsrf: [
      "Трасса всё ещё заблокирована, движение почти невозможно.",
      "Патрули продолжают обход зон задымления, держите связь.",
      "Поддержка в зоне прибытия минимальна, ожидаем пополнение.",
      "Следует сохранять осторожность, активность берсерков увеличивается."
    ],
    mchs: [
      "Пожар локализован на 35%, но ветер меняет направление.",
      "Гуманитарная помощь доставляется в населённые пункты.",
      "Поддержка пострадавших продолжается, работают медики.",
      "В зоне задымления видимость близка к нулю, будьте аккуратны."
    ],
    volunteer: [
      "Приглашаем добровольцев к пункту сбора гуманитарной помощи.",
      "Нужно больше рук для раздачи воды и продуктов в лагерях.",
      "Зона эвакуации расширяется, помощь требуется срочно.",
      "Держитесь вместе, поддерживайте друг друга в это непростое время."
    ],
    redcross: [
      "Обрабатываем раненых, нехватка медикаментов.",
      "Организуем пункты первой помощи возле основных маршрутов.",
      "Ведётся работа с пострадавшими от задымления и ожогов.",
      "Поддержка морального состояния пострадавших крайне важна."
    ]
  };

  const chatElement = document.getElementById('chat');

  // Функция добавления сообщения в чат
  function addMessage(characterId, text) {
    const char = characters.find(c => c.id === characterId);
    if (!char) return;

    const msgDiv = document.createElement('div');
    msgDiv.className = `message ${char.cssClass}`;
    msgDiv.textContent = `[${char.name}] ${text}`;
    chatElement.appendChild(msgDiv);
    chatElement.scrollTop = chatElement.scrollHeight;
  }

  // Функция для случайного выбора элемента из массива
  function randomItem(array) {
    return array[Math.floor(Math.random() * array.length)];
  }

  // Генерация сообщений с интервалом
  function startChatSimulation() {
    setInterval(() => {
      const character = randomItem(characters);
      const message = randomItem(messagesPool[character.id]);
      addMessage(character.id, message);
    }, 3500); // сообщение каждые 3.5 секунды
  }

  // Начинаем симуляцию
  startChatSimulation();
</script>

</body>
</html>
